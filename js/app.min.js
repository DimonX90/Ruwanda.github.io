(()=>{"use strict";let e=document.getElementsByTagName("select");function t(e){const t=document.querySelectorAll(".select");if(!e.target.closest(".select"))for(let e=0;e<t.length;e++){const o=t[e],n=o.querySelector(".select__options");o.classList.remove("_active"),l(n,100)}}function o(e){const t=e.parentElement,o=e.getAttribute("class"),i=e.querySelector("option:checked");e.setAttribute("data-default",i.value),e.style.display="none",t.insertAdjacentHTML("beforeend",'<div class="select select_'+o+'"></div>'),e.parentElement.querySelector(".select").appendChild(e),function(e){const t=e.parentElement,o=t.querySelector(".select__item"),i=e.querySelectorAll("option"),c=e.querySelector("option:checked").innerHTML,r=e.getAttribute("data-type");o&&o.remove();let a="";a="input"==r?'<div class="select__value"><input autocomplete="off" type="text" name="form[]" value="'+c+'" data-error="Ошибка" data-value="'+c+'" class="select__input"></div>':'<div class="select__value"><span>'+c+'<span style="color: red;" class="_red">*</span></span></div>',t.insertAdjacentHTML("beforeend",'<div class="select__item"><div class="select__title">'+a+'</div><div class="select__options">'+function(e){if(e){let t="";for(let o=0;o<e.length;o++){const n=e[o],l=n.value;""!=l&&(t=t+'<div data-value="'+l+'" class="select__option">'+n.innerHTML+"</div>")}return t}}(i)+"</div></div></div>"),function(e,t){const o=t.querySelector(".select__item"),i=t.querySelector(".select__options"),c=t.querySelectorAll(".select__option"),r=e.getAttribute("data-type"),a=t.querySelector(".select__input");o.addEventListener("click",(function(){let e=document.querySelectorAll(".select");for(let t=0;t<e.length;t++){const n=e[t],s=n.querySelector(".select__options");n!=o.closest(".select")&&(n.classList.remove("_active"),l(s,100))}s(i,100),t.classList.toggle("_active")}));for(let o=0;o<c.length;o++){const l=c[o],s=l.getAttribute("data-value"),i=l.innerHTML;"input"==r?a.addEventListener("keyup",n):l.getAttribute("data-value")==e.value&&(l.style.display="none"),l.addEventListener("click",(function(){for(let e=0;e<c.length;e++)c[e].style.display="block";"input"==r?(a.value=i,e.value=s):(t.querySelector(".select__value").innerHTML="<span>"+i+"</span>",e.value=s,l.style.display="none")}))}}(e,t)}(e)}function n(e){e.target.closest(".select ").querySelector(".select__options");let t=e.target.closest(".select ").querySelectorAll(".select__option"),o=e.target.value.toUpperCase();for(let e=0;e<t.length;e++){let n=t[e];(n.textContent||n.innerText).toUpperCase().indexOf(o)>-1?n.style.display="":n.style.display="none"}}e.length>0&&function(){for(let t=0;t<e.length;t++)o(e[t]);document.addEventListener("click",(function(e){t(e)})),document.addEventListener("keydown",(function(e){27==e.which&&t(e)}))}();let l=(e,t=500)=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)},s=(e,t=500)=>{if(!e.classList.contains("_slide"))return e.classList.add("_slide"),"none"===window.getComputedStyle(e).display?((e,t=500)=>{e.style.removeProperty("display");let o=window.getComputedStyle(e).display;"none"===o&&(o="block"),e.style.display=o;let n=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=n+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)})(e,t):l(e,t)},i=document.querySelector(".icon-menu"),c=document.querySelector(".menu__body");i.addEventListener("click",(function(e){i.classList.toggle("menu-open"),c.classList.toggle("_active")}));let r=pageYOffset;document.addEventListener("scroll",(function(){const e=document.querySelector(".header");new IntersectionObserver((function(t,o){t[0].isIntersecting?e.classList.remove("_scroll"):e.classList.add("_scroll")})).observe(e);const t=document.querySelector(".header__wrapper");pageYOffset>r?t.classList.add("_hide"):t.classList.remove("_hide"),r=pageYOffset}));const a=document.querySelectorAll(".tabs-content__item"),d=document.querySelectorAll(".tabs-content__articles"),u=document.querySelector(".tabs__leftarrow"),p=document.querySelector(".tabs__rightarrow");u&&u.addEventListener("click",(function(){let e;for(let t=0;d.length>t;t++)d[t].classList.contains("_active")&&(e=t);e<d.length&&e>0&&(e-=1,d.forEach((function(e){e.classList.remove("_active")})),a.forEach((function(e){e.classList.remove("_active")})),a[e].classList.add("_active"),d[e].classList.add("_active"))})),p&&p.addEventListener("click",(function(){let e;for(let t=0;d.length>t;t++)d[t].classList.contains("_active")&&(e=t);e<d.length-1&&(e+=1,d.forEach((function(e){e.classList.remove("_active")})),a.forEach((function(e){e.classList.remove("_active")})),a[e].classList.add("_active"),d[e].classList.add("_active"))})),function(){for(let e=0;a.length>e;e++)a[e].addEventListener("click",(function(t){t.preventDefault(),a[e].classList.contains("_active")||a[e].classList.add("_active"),a.forEach((function(t){t!=a[e]&&t.classList.remove("_active")}));for(let t=0;d.length>t;t++)d[t].id==a[e].id?d[t].classList.contains("_active")||d[t].classList.add("_active"):d[t].classList.remove("_active")}))}(),document.addEventListener("scroll",(function(){const e=document.querySelectorAll("._animeItem");if(e.length>0){function t(t){for(let t=0;t<e.length;t++){const n=e[t],l=n.offsetHeight,s=o(n).top,i=4;let c=window.innerHeight-l/i;l>window.innerHeight&&(c=window.innerHeight-window.innerHeight/i),pageYOffset>s-c&&pageYOffset<s+l?n.classList.contains("_active")||n.classList.add("_active"):n.classList.remove("_active")}}function o(e){const t=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+n,left:t.left+o}}t()}}));const y=document.querySelectorAll(".popup-link"),m=document.querySelector("body"),f=document.querySelectorAll(".lock-padding");let v=!0;if(y.length>0)for(let e=0;e<y.length;e++){const t=y[e];t.addEventListener("click",(function(e){const o=t.getAttribute("href").replace("#","");h(document.getElementById(o)),e.preventDefault()}))}const g=document.querySelectorAll(".close-popup");if(g.length>0)for(let e=0;e<g.length;e++){const t=g[e];t.addEventListener("click",(function(e){_(t.closest(".popup")),e.preventDefault()}))}function h(e){if(e&&v){const t=document.querySelector(".popup.open");t?_(t,!1):function(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(f.length>0)for(let t=0;t<f.length;t++)f[t].style.paddingRight=e;m.style.paddingRight=e,m.classList.add("lock"),v=!1,setTimeout((function(){v=!0}),800)}(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||_(e.target.closest(".popup"))}))}}function _(e,t=!0){v&&(e.classList.remove("open"),t&&(setTimeout((function(){if(f.length>0)for(let e=0;e<f.length;e++)f[e].style.paddingRight="0px";m.style.paddingRight="0px",m.classList.remove("lock")}),800),v=!1,setTimeout((function(){v=!0}),800)))}document.addEventListener("keydown",(function(e){27===e.which&&_(document.querySelector(".popup.open"))})),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),document.querySelector("#cookie_notification")&&function(){let e=localStorage.getItem("cookieDate"),t=document.getElementById("cookie_notification"),o=t.querySelector(".cookie_accept");(!e||+e+31536e6<Date.now())&&t.classList.add("show"),o.addEventListener("click",(function(){localStorage.setItem("cookieDate",Date.now()),t.classList.remove("show")}))}();let L=document.querySelectorAll("#link");for(let e=0;e<L.length;e++){let t=L[e].getAttribute("href");window.location.origin+"/"+t==window.location.href&&L[e].classList.add("_activeMenu")}const S=document.querySelectorAll("input"),w=document.querySelectorAll(".placeholder");for(let e=0;S.length>e;e++)S[e].oninput=function(){0!=S[e].value&&(w[e].style.display="none"),0==S[e].value&&(w[e].style.display="block")}})();